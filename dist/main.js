!function(){var e={362:function(e,t,n){const i=n(269);function s(e){this.pos=e,this.type="cautionBin",this.color="#FABA0F",this.contents=[],this.src="images/new-caution-bin.png"}n(839).inherits(s,i),e.exports=s},44:function(e,t,n){const i=n(269);function s(e){i.call(this,e),this.type="compostBin",this.color="#00614C",this.src="images/new-compost-bin.png"}n(839).inherits(s,i),e.exports=s},642:function(e,t,n){const i=n(285),s=n(651),o=n(44),a=n(568),r=n(211),l=n(362);function d(){this.remainingTrash=[],this.create(),this.player=new i(this.randomPosition()),this.compostBin=new o(this.randomPosition()),this.recyclingBin=new a(this.randomPosition()),this.landfillBin=new r(this.randomPosition()),this.cautionBin=new l(this.randomPosition()),this.binsArray=[this.compostBin,this.recyclingBin,this.landfillBin,this.cautionBin]}d.DIM_X=500,d.DIM_Y=500,d.NUM_TRASH=10,d.SPAWN_X=450,d.SPAWN_Y=450;const c=[{name:"Cling Wrap",type:"landfillBin",look:"images/clingwrap.png"},{name:"Styrofoam",type:"landfillBin",look:"images/styrofoam.png"},{name:"Shiny Food Wrapper",type:"landfillBin",look:"images/shiny-food-wrapper.png"},{name:"Meat Scrap",type:"landfillBin",look:"images/meat-scrap.png"},{name:"Broken Glass",type:"landfillBin",look:"images/broken-glass.png"},{name:"Teabag",type:"compostBin",look:"images/teabag.png"},{name:"Fireplace Ashes",type:"compostBin",look:"images/ashes.png"},{name:"CoffeeGrounds/Filters",type:"compostBin",look:"images/coffee-filter.png"},{name:"Soiled Paper/Cardboard",type:"compostBin",look:"images/soiled-cardboard.png"},{name:"Batteries",type:"cautionBin",look:"images/battery.png"},{name:"Sharps",type:"cautionBin",look:"images/needle.png"},{name:"LightBulbs",type:"cautionBin",look:"images/lightbulb.png"},{name:"Compressed Gas",type:"cautionBin",look:"images/compressed-gas.png"},{name:"Electronics",type:"cautionBin",look:"images/used-electronics.png"},{name:"Medicine",type:"cautionBin",look:"images/pills.png"},{name:"Paint",type:"cautionBin",look:"images/paint-can.png"},{name:"Plastic Bottles",type:"recyclingBin",look:"images/plastic-bottle.png"},{name:"Metal Containers",type:"recyclingBin",look:"images/empty-can.png"},{name:"Unbroken Glass",type:"recyclingBin",look:"images/empty-glass-bottle.png"},{name:"Cardboard",type:"recyclingBin",look:"images/cardboard-box.png"},{name:"Paper",type:"recyclingBin",look:"images/papers.png"}];d.prototype.create=function(){for(;this.remainingTrash.length<d.NUM_TRASH;)this.addTrash()},d.prototype.addTrash=function(){let e=new s(this.randomPosition(),this.randomObj());this.remainingTrash.push(e)},d.prototype.randomPosition=function(){return[Math.floor(Math.random()*(d.SPAWN_X+5)),Math.floor(Math.random()*(d.SPAWN_Y+5))]},d.prototype.randomObj=function(){let e=c[Math.floor(Math.random()*c.length)];return 0!==this.remainingTrash.length&&this.remainingTrash.some((t=>Object.values(t.obj).includes(e.name)))?this.randomObj():e},d.prototype.updateRemainingTrash=function(){let e=this;e.binsArray.forEach((t=>{for(let n=0;n<e.remainingTrash.length;n++){let i=e.remainingTrash[n];if(t.isCollideWithTrash(i)&&!i.grabbable&&i.throwawayable){const s=structuredClone(i);t.eatTrash(s),e.remainingTrash.splice(n,1)}}}))},d.prototype.draw=function(e){e.clearRect(0,0,d.DIM_X,d.DIM_Y),this.player.draw(e),this.cautionBin.draw(e),this.compostBin.draw(e),this.landfillBin.draw(e),this.recyclingBin.draw(e),this.remainingTrash.forEach((t=>{t.draw(e)}))},d.prototype.gameover=function(){return 0===this.remainingTrash.length},e.exports=d},938:function(e,t,n){const i=n(642),s=n(651);function o(e){this.game=new i,this.intervalID=void 0,this.theme=new Audio("music/OHMA.wav"),this.dummyTrash=new s,this.drawingContext=e,this.magnifiedImg=document.getElementById("search-box-image"),this.controller={38:{pressed:!1,func:e=>{e.game.player.pos[1]>0&&(e.game.player.pos[1]-=3)}},40:{pressed:!1,func:e=>{e.game.player.pos[1]<485&&(e.game.player.pos[1]+=3)}},37:{pressed:!1,func:e=>{e.game.player.pos[0]>0&&(e.game.player.pos[0]-=3)}},39:{pressed:!1,func:e=>{e.game.player.pos[0]<485&&(e.game.player.pos[0]+=3)}},16:{pressed:!1,func:e=>{let t=e.game.player.isCollideWithTrash(e.game.remainingTrash);t&&t.move(e.game.player)}}}}o.prototype.start=function(){this.game=new i,this.theme.play(),this.theme.loop=!0,document.getElementById("how-to-play").classList.add("hidden"),document.getElementById("instructions").classList.add("hidden"),document.getElementById("game-canvas").classList.remove("hidden"),document.getElementById("game-screen").classList.remove("hidden"),document.getElementById("ready-to-play").classList.add("hidden"),document.getElementById("learning-area").classList.add("hidden"),document.getElementById("learning-area").style.display="none",document.getElementById("search-box").style.display="flex",window.addEventListener("keydown",(e=>{this.controller[e.keyCode]&&(this.controller[e.keyCode].pressed=!0)})),window.addEventListener("keyup",(e=>{this.controller[e.keyCode]&&(this.controller[e.keyCode].pressed=!1)})),this.intervalID=setInterval((()=>{this.executeMoves(),this.game.remainingTrash.forEach((e=>{e.isCollideWithPlayer(this.game.player.pos)})),this.game.remainingTrash.forEach((e=>{e.isCollideWithTrashBin(this.game.binsArray)})),this.magnify(),this.game.updateRemainingTrash(),this.game.draw(this.drawingContext),this.endscreen()}),10)},o.prototype.executeMoves=function(){Object.keys(this.controller).forEach((e=>{this.controller[e].pressed&&this.controller[e].func(this)}))},o.prototype.magnify=function(){for(let e=0;e<this.game.remainingTrash.length;e++){let t=this.game.remainingTrash[e];if(t.grabbable)return void(this.magnifiedImg.src=t.obj.look)}this.magnifiedImg.src="images/magnifying-glass.png"},o.prototype.instructions=function(){document.getElementById("how-to-play").classList.add("hidden"),document.getElementById("instructions").classList.remove("hidden")},o.prototype.endscreen=function(){this.game.gameover()&&(document.getElementById("search-box").style.display="none",document.getElementById("game-canvas").classList.add("hidden"),document.getElementById("main-title").classList.add("hidden"),document.getElementById("end-stats").classList.remove("hidden"),document.getElementById("back-to-practice").classList.remove("hidden"),clearInterval(this.intervalID),this.displayStats())},o.prototype.replay=function(){document.getElementById("end-stats").classList.add("hidden"),document.getElementById("play-again").classList.add("hidden"),document.getElementById("back-to-practice").classList.add("hidden"),document.getElementById("main-title").classList.remove("hidden")},o.prototype.reset=function(){document.getElementById("learning-area").style.display="flex",document.getElementById("main-title").classList.remove("hidden"),document.getElementById("end-stats").classList.add("hidden"),document.getElementById("back-to-practice").classList.add("hidden"),document.getElementById("ready-to-play").classList.remove("hidden"),document.getElementById("how-to-play").classList.remove("hidden")},o.prototype.displayStats=function(){this.theme.pause(),this.theme.currentTime=0,new Audio("music/DrumRoll.wav").play();const e=document.getElementById("compost-bin"),t=document.getElementById("recycling-bin"),n=document.getElementById("landfill-bin"),i=document.getElementById("caution-bin");e.classList.remove("hidden"),t.classList.remove("hidden"),n.classList.remove("hidden"),i.classList.remove("hidden");const s=[e,t,n,i];for(let e=0;e<s.length;e++)this.game.binsArray[e].contents.forEach((t=>{let n=document.createElement("li");n.textContent=t.obj.name,t.obj.type===binsArray[e].type?n.classList.add("right-choice"):n.classList.add("wrong-choice"),s[e].append(n)}))},e.exports=o},211:function(e,t,n){const i=n(269);function s(e){this.pos=e,this.type="landfillBin",this.color="#000000",this.contents=[],this.src="images/new-landfill-bin.png"}n(839).inherits(s,i),e.exports=s},285:function(e){function t(e){this.pos=e,this.color="#4E5CE6",this.alreadyHoldingTrash=!1}t.prototype.draw=function(e){e.beginPath(),e.rect(this.pos[0],this.pos[1],15,15),e.fillStyle=this.color,e.fill()},t.prototype.isCollideWithTrash=function(e){for(let t=0;t<e.length;t++){let n=e[t];if(this.pos[0]+22>n.pos[0]&&this.pos[0]<n.pos[0]+22&&this.pos[1]+22>n.pos[1]&&this.pos[1]<n.pos[1]+22)return n.isCurrentlyHeld=!0,n}},e.exports=t},568:function(e,t,n){const i=n(269);function s(e){this.pos=e,this.type="recyclingBin",this.color="#1053FA",this.contents=[],this.src="images/recycling-bin.png"}n(839).inherits(s,i),e.exports=s},651:function(e){function t(e,t){this.pos=e,this.obj=t,this.isCurrentlyHeld=!1,this.color="#FF7B88",this.grabbable=!1,this.throwawayable=!1}t.prototype.draw=function(e){const t=new Image;t.src=this.obj.look,e.drawImage(t,this.pos[0],this.pos[1],30,30),this.grabbable&&(e.beginPath(),this.throwawayable?e.strokeStyle="#53FFF8":e.strokeStyle="#FF7B88",e.lineWidth=3,e.rect(this.pos[0]-15,this.pos[1]-15,60,60),e.stroke())},t.prototype.isCollideWithPlayer=function(e){e[0]<this.pos[0]+22&&e[0]+22>this.pos[0]&&e[1]<this.pos[1]+22&&e[1]+22>this.pos[1]?this.grabbable=!0:this.grabbable=!1},t.prototype.move=function(e){this.pos=[e.pos[0]+5,e.pos[1]+5]},t.prototype.isCollideWithTrashBin=function(e){e.some((e=>this.pos[0]<e.pos[0]+30&&this.pos[0]+15>e.pos[0]&&this.pos[1]<e.pos[1]+30&&this.pos[1]+15>e.pos[1]))?this.throwawayable=!0:this.throwawayable=!1},t.prototype.throwaway=function(e){},e.exports=t},269:function(e,t,n){function i(e){this.pos=e,this.contaminated=!1,this.contents=[]}n(839),i.prototype.draw=function(e){const t=new Image;t.src=this.src,e.drawImage(t,this.pos[0],this.pos[1],60,60)},i.prototype.isCollideWithTrash=function(e){return this.pos[0]+45>e.pos[0]&&this.pos[0]<e.pos[0]+15&&this.pos[1]+45>e.pos[1]&&this.pos[1]<e.pos[1]+15},i.prototype.eatTrash=function(e){this.contents.push(e)},e.exports=i},839:function(e){const t={inherits(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};e.exports=t}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}!function(){n(651);const e=n(642),t=n(938);window.addEventListener("DOMContentLoaded",(function(){const n=document.getElementById("game-canvas");n.width=e.DIM_X,n.height=e.DIM_Y;const i=n.getContext("2d"),s=new t(i);document.getElementById("how-to-play").addEventListener("click",s.instructions.bind(s)),document.getElementById("ready-to-play").addEventListener("click",s.start.bind(s)),document.getElementById("back-to-practice").addEventListener("click",s.reset.bind(s)),window.remainingTrash=s.game.remainingTrash,window.playerPos=s.game.player.pos,window.binsArray=s.game.binsArray,window.gameover=s.game.gameover,window.randomObj=s.game.randomObj}))}()}();
//# sourceMappingURL=main.js.map