!function(){var e={362:function(e,t,n){const s=n(269);function i(e){this.pos=e,this.type="cautionBin",this.color="#FABA0F",this.contents=[],this.src="../src/images/new-caution-bin.png"}n(839).inherits(i,s),e.exports=i},44:function(e,t,n){const s=n(269);function i(e){s.call(this,e),this.type="compostBin",this.color="#00614C",this.src="../src/images/new-compost-bin.png"}n(839).inherits(i,s),e.exports=i},642:function(e,t,n){const s=n(285),i=n(651),o=n(44),a=n(568),r=n(211),c=n(362);function l(){this.remainingTrash=[],this.create(),this.player=new s(this.randomPosition()),this.compostBin=new o(this.randomPosition()),this.recyclingBin=new a(this.randomPosition()),this.landfillBin=new r(this.randomPosition()),this.cautionBin=new c(this.randomPosition()),this.binsArray=[this.compostBin,this.recyclingBin,this.landfillBin,this.cautionBin]}l.DIM_X=500,l.DIM_Y=500,l.NUM_TRASH=10,l.SPAWN_X=450,l.SPAWN_Y=450;const d=[{name:"Cling Wrap",type:"landfillBin",look:"../src/images/clingwrap.png"},{name:"Styrofoam",type:"landfillBin",look:"../src/images/styrofoam.png"},{name:"Shiny Food Wrapper",type:"landfillBin",look:"../src/images/shiny-food-wrapper.png"},{name:"Meat Scrap",type:"landfillBin",look:"../src/images/meat-scrap.png"},{name:"Broken Glass",type:"landfillBin",look:"../src/images/broken-glass.png"},{name:"Teabag",type:"compostBin",look:"../src/images/teabag.png"},{name:"Fireplace Ashes",type:"compostBin",look:"../src/images/ashes.png"},{name:"CoffeeGrounds/Filters",type:"compostBin",look:"../src/images/coffee-filter.png"},{name:"Soiled Paper/Cardboard",type:"compostBin",look:"../src/images/soiled-cardboard.png"},{name:"Batteries",type:"cautionBin",look:"../src/images/battery.png"},{name:"Sharps",type:"cautionBin",look:"../src/images/needle.png"},{name:"LightBulbs",type:"cautionBin",look:"../src/images/lightbulb.png"},{name:"Compressed Gas",type:"cautionBin",look:"../src/images/compressed-gas.png"},{name:"Electronics",type:"cautionBin",look:"../src/images/used-electronics.png"},{name:"Medicine",type:"cautionBin",look:"../src/images/pills.png"},{name:"Paint",type:"cautionBin",look:"../src/images/paint-can.png"},{name:"Plastic Bottles",type:"recyclingBin",look:"../src/images/plastic-bottle.png"},{name:"Metal Containers",type:"recyclingBin",look:"../src/images/empty-can.png"},{name:"Unbroken Glass",type:"recyclingBin",look:"../src/images/empty-glass-bottle.png"},{name:"Cardboard",type:"recyclingBin",look:"../src/images/cardboard-box.png"},{name:"Paper",type:"recyclingBin",look:"../src/images/papers.png"}];l.prototype.create=function(){for(;this.remainingTrash.length<2;)this.addTrash()},l.prototype.addTrash=function(){let e=new i(this.randomPosition(),this.randomObj());this.remainingTrash.push(e)},l.prototype.randomPosition=function(){return[Math.floor(Math.random()*(l.SPAWN_X+5)),Math.floor(Math.random()*(l.SPAWN_Y+5))]},l.prototype.randomObj=function(){return d[Math.floor(Math.random()*d.length)]},l.prototype.updateRemainingTrash=function(){let e=this;e.binsArray.forEach((t=>{for(let n=0;n<e.remainingTrash.length;n++){let s=e.remainingTrash[n];if(t.isCollideWithTrash(s)&&!s.grabbable&&s.throwawayable){const i=structuredClone(s);t.eatTrash(i),e.remainingTrash.splice(n,1),console.log(e.remainingTrash)}}}))},l.prototype.draw=function(e){e.clearRect(0,0,l.DIM_X,l.DIM_Y),this.player.draw(e),this.cautionBin.draw(e),this.compostBin.draw(e),this.landfillBin.draw(e),this.recyclingBin.draw(e),this.remainingTrash.forEach((t=>{t.draw(e)}))},l.prototype.gameover=function(){return 0===this.remainingTrash.length},e.exports=l},938:function(e,t,n){const s=n(642),i=n(651);function o(e){this.game=new s,this.intervalID=void 0,this.theme=new Audio("../src/music/OHMA.wav"),this.dummyTrash=new i,this.drawingContext=e,this.magnifiedImg=document.getElementById("search-box-image"),this.controller={38:{pressed:!1,func:e=>{e.game.player.pos[1]>0&&(e.game.player.pos[1]-=3)}},40:{pressed:!1,func:e=>{e.game.player.pos[1]<485&&(e.game.player.pos[1]+=3)}},37:{pressed:!1,func:e=>{e.game.player.pos[0]>0&&(e.game.player.pos[0]-=3)}},39:{pressed:!1,func:e=>{e.game.player.pos[0]<485&&(e.game.player.pos[0]+=3)}},16:{pressed:!1,func:e=>{let t=e.game.player.isCollideWithTrash(e.game.remainingTrash);t&&t.move(e.game.player)}}}}o.prototype.start=function(){this.game=new s,this.theme.play(),this.theme.loop=!0,document.getElementById("how-to-play").classList.add("hidden"),document.getElementById("instructions").classList.add("hidden"),document.getElementById("game-canvas").classList.remove("hidden"),document.getElementById("game-screen").classList.remove("hidden"),document.getElementById("ready-to-play").classList.add("hidden"),document.getElementById("learning-area").classList.add("hidden"),document.getElementById("learning-area").style.display="none",document.getElementById("search-box").style.display="flex",window.addEventListener("keydown",(e=>{this.controller[e.keyCode]&&(this.controller[e.keyCode].pressed=!0)})),window.addEventListener("keyup",(e=>{this.controller[e.keyCode]&&(this.controller[e.keyCode].pressed=!1)})),this.intervalID=setInterval((()=>{this.executeMoves(),this.game.remainingTrash.forEach((e=>{e.isCollideWithPlayer(this.game.player.pos)})),this.game.remainingTrash.forEach((e=>{e.isCollideWithTrashBin(this.game.binsArray)})),this.magnify(),this.game.updateRemainingTrash(),this.game.draw(this.drawingContext),this.endscreen()}),10)},o.prototype.executeMoves=function(){Object.keys(this.controller).forEach((e=>{this.controller[e].pressed&&this.controller[e].func(this)}))},o.prototype.magnify=function(){for(let e=0;e<this.game.remainingTrash.length;e++){let t=this.game.remainingTrash[e];if(t.grabbable)return void(this.magnifiedImg.src=t.obj.look)}this.magnifiedImg.src="../src/images/magnifying-glass.png"},o.prototype.instructions=function(){document.getElementById("how-to-play").classList.add("hidden"),document.getElementById("instructions").classList.remove("hidden")},o.prototype.endscreen=function(){this.game.gameover()&&(document.getElementById("search-box").style.display="none",document.getElementById("game-canvas").classList.add("hidden"),document.getElementById("main-title").classList.add("hidden"),document.getElementById("end-stats").classList.remove("hidden"),document.getElementById("back-to-practice").classList.remove("hidden"),clearInterval(this.intervalID),this.displayStats())},o.prototype.replay=function(){document.getElementById("end-stats").classList.add("hidden"),document.getElementById("play-again").classList.add("hidden"),document.getElementById("back-to-practice").classList.add("hidden"),document.getElementById("main-title").classList.remove("hidden")},o.prototype.reset=function(){document.getElementById("learning-area").style.display="flex",document.getElementById("main-title").classList.remove("hidden"),document.getElementById("end-stats").classList.add("hidden"),document.getElementById("back-to-practice").classList.add("hidden"),document.getElementById("ready-to-play").classList.remove("hidden"),document.getElementById("how-to-play").classList.remove("hidden")},o.prototype.displayStats=function(){this.theme.pause(),this.theme.currentTime=0,new Audio("../src/music/DrumRoll.wav").play();const e=document.getElementById("compost-bin"),t=document.getElementById("recycling-bin"),n=document.getElementById("landfill-bin"),s=document.getElementById("caution-bin");e.classList.remove("hidden"),t.classList.remove("hidden"),n.classList.remove("hidden"),s.classList.remove("hidden");const i=[e,t,n,s];for(let e=0;e<i.length;e++)this.game.binsArray[e].contents.forEach((t=>{let n=document.createElement("li");n.textContent=t.obj.name,t.obj.type===binsArray[e].type?n.classList.add("right-choice"):n.classList.add("wrong-choice"),i[e].append(n)}))},e.exports=o},211:function(e,t,n){const s=n(269);function i(e){this.pos=e,this.type="landfillBin",this.color="#000000",this.contents=[],this.src="../src/images/new-landfill-bin.png"}n(839).inherits(i,s),e.exports=i},285:function(e){function t(e){this.pos=e,this.color="#4E5CE6",this.alreadyHoldingTrash=!1}t.prototype.draw=function(e){e.beginPath(),e.rect(this.pos[0],this.pos[1],15,15),e.fillStyle=this.color,e.fill()},t.prototype.isCollideWithTrash=function(e){for(let t=0;t<e.length;t++){let n=e[t];if(this.pos[0]+22>n.pos[0]&&this.pos[0]<n.pos[0]+22&&this.pos[1]+22>n.pos[1]&&this.pos[1]<n.pos[1]+22)return n.isCurrentlyHeld=!0,n}},e.exports=t},568:function(e,t,n){const s=n(269);function i(e){this.pos=e,this.type="recyclingBin",this.color="#1053FA",this.contents=[],this.src="../src/images/recycling-bin.png"}n(839).inherits(i,s),e.exports=i},651:function(e){function t(e,t){this.pos=e,this.obj=t,this.isCurrentlyHeld=!1,this.color="#FF7B88",this.grabbable=!1,this.throwawayable=!1}t.prototype.draw=function(e){const t=new Image;t.src=this.obj.look,e.drawImage(t,this.pos[0],this.pos[1],30,30),this.grabbable&&(e.beginPath(),this.throwawayable?e.strokeStyle="#53FFF8":e.strokeStyle="#FF7B88",e.lineWidth=3,e.rect(this.pos[0]-15,this.pos[1]-15,60,60),e.stroke())},t.prototype.isCollideWithPlayer=function(e){e[0]<this.pos[0]+22&&e[0]+22>this.pos[0]&&e[1]<this.pos[1]+22&&e[1]+22>this.pos[1]?this.grabbable=!0:this.grabbable=!1},t.prototype.move=function(e){this.pos=[e.pos[0]+5,e.pos[1]+5]},t.prototype.isCollideWithTrashBin=function(e){e.some((e=>this.pos[0]<e.pos[0]+30&&this.pos[0]+15>e.pos[0]&&this.pos[1]<e.pos[1]+30&&this.pos[1]+15>e.pos[1]))?this.throwawayable=!0:this.throwawayable=!1},t.prototype.throwaway=function(e){},e.exports=t},269:function(e,t,n){function s(e){this.pos=e,this.contaminated=!1,this.contents=[]}n(839),s.prototype.draw=function(e){const t=new Image;t.src=this.src,e.drawImage(t,this.pos[0],this.pos[1],60,60)},s.prototype.isCollideWithTrash=function(e){return this.pos[0]+45>e.pos[0]&&this.pos[0]<e.pos[0]+15&&this.pos[1]+45>e.pos[1]&&this.pos[1]<e.pos[1]+15},s.prototype.eatTrash=function(e){this.contents.push(e)},e.exports=s},839:function(e){const t={inherits(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};e.exports=t}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}!function(){n(651);const e=n(642),t=n(938);window.addEventListener("DOMContentLoaded",(function(){const n=document.getElementById("game-canvas");n.width=e.DIM_X,n.height=e.DIM_Y;const s=n.getContext("2d"),i=new t(s);document.getElementById("how-to-play").addEventListener("click",i.instructions.bind(i)),document.getElementById("ready-to-play").addEventListener("click",i.start.bind(i)),document.getElementById("back-to-practice").addEventListener("click",i.reset.bind(i)),window.remainingTrash=i.game.remainingTrash,window.playerPos=i.game.player.pos,window.binsArray=i.game.binsArray,window.gameover=i.game.gameover,window.randomObj=i.game.randomObj}))}()}();
//# sourceMappingURL=main.js.map