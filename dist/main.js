!function(){var t={362:function(t,e,n){const i=n(269);function s(t){this.pos=t,this.color="#FABA0F",this.contents=[],this.src="../src/images/park_illustration_fixed.jpeg"}n(839).inherits(s,i),t.exports=s},44:function(t,e,n){const i=n(269);function s(t){i.call(this,t),this.color="#00614C",this.src="../src/images/park_illustration_fixed.jpeg"}n(839).inherits(s,i),t.exports=s},642:function(t,e,n){const i=n(285),s=n(651),o=n(44),a=n(568),r=n(211),c=n(362);function p(){this.remainingTrash=[],this.create(),this.player=new i(this.randomPosition()),this.compostBin=new o(this.randomPosition()),this.recyclingBin=new a(this.randomPosition()),this.landfillBin=new r(this.randomPosition()),this.cautionBin=new c(this.randomPosition()),this.binsArray=[this.compostBin,this.recyclingBin,this.landfillBin,this.cautionBin]}p.DIM_X=500,p.DIM_Y=500,p.NUM_TRASH=10,p.SPAWN_X=480,p.SPAWN_Y=480;const l=[{name:"clingWrap",type:"landfillBin",look:"../src/images/clingwrap.png"},{name:"styrofoam",type:"landfillBin",look:"../src/images/clingwrap.png"},{name:"shinyFoodWrapper",type:"landfillBin",look:"../src/images/shiny-food-wrapper.png"},{name:"meatScrap",type:"landfillBin",look:"../src/images/meat-scrap.png"},{name:"brokenGlassAndPottery",type:"landfillBin",look:"../src/images/clingwrap.png"},{name:"diaper",type:"landfillBin",look:"../src/images/clingwrap.png"},{name:"teabag",type:"compostBin",look:"../src/images/clingwrap.png"},{name:"hairAndfur",type:"compostBin",look:"../src/images/clingwrap.png"},{name:"fireplaceAshes",type:"compostBin",look:"../src/images/clingwrap.png"},{name:"coffeeGroundsAndFilters",type:"compostBin",look:"../src/images/clingwrap.png"},{name:"soiledPaperAndCardboard",type:"compostBin",look:"../src/images/clingwrap.png"},{name:"shreddedPaperAndCardboard",type:"compostBin",look:"../src/images/clingwrap.png"},{name:"batteries",type:"cautionBin",look:"../src/images/battery.png"},{name:"sharps",type:"cautionBin",look:"../src/images/clingwrap.png"},{name:"lightBulbs",type:"cautionBin",look:"../src/images/clingwrap.png"},{name:"compressedGas",type:"cautionBin",look:"../src/images/clingwrap.png"},{name:"usedElectronics",type:"cautionBin",look:"../src/images/clingwrap.png"},{name:"medicine",type:"cautionBin",look:"../src/images/clingwrap.png"},{name:"paint",type:"cautionBin",look:"../src/images/clingwrap.png"},{name:"plasticBottles",type:"recyclingBin",look:"../src/images/clingwrap.png"},{name:"metalContainers",type:"recyclingBin",look:"../src/images/clingwrap.png"},{name:"unbrokenGlass",type:"recyclingBin",look:"../src/images/clingwrap.png"},{name:"cardboard",type:"recyclingBin",look:"../src/images/clingwrap.png"},{name:"paper",type:"recyclingBin",look:"../src/images/clingwrap.png"}];p.prototype.create=function(){for(;this.remainingTrash.length<p.NUM_TRASH;)this.addTrash()},p.prototype.addTrash=function(){let t=new s(this.randomPosition(),this.randomObj());this.remainingTrash.push(t)},p.prototype.randomPosition=function(){return[Math.floor(Math.random()*(p.SPAWN_X+5)),Math.floor(Math.random()*(p.SPAWN_Y+5))]},p.prototype.randomObj=function(){return l[Math.floor(Math.random()*l.length)]},p.prototype.updateRemainingTrash=function(){let t=this;t.binsArray.forEach((e=>{for(let n=0;n<t.remainingTrash.length;n++){let i=t.remainingTrash[n];if(e.isCollideWithTrash(i)&&!i.grabbable&&i.throwawayable){const s=structuredClone(i);e.eatTrash(s),t.remainingTrash.splice(n,1)}}}))},p.prototype.draw=function(t){t.clearRect(0,0,p.DIM_X,p.DIM_Y),this.player.draw(t),this.cautionBin.draw(t),this.compostBin.draw(t),this.landfillBin.draw(t),this.recyclingBin.draw(t),this.remainingTrash.forEach((e=>{e.draw(t)}))},p.prototype.gameover=function(){return 0===this.remainingTrash.length},t.exports=p},938:function(t,e,n){const i=n(642),s=n(651);function o(t){this.game=new i,this.dummyTrash=new s,this.drawingContext=t,this.controller={38:{pressed:!1,func:t=>{t.game.player.pos[1]>0&&(t.game.player.pos[1]-=3)}},40:{pressed:!1,func:t=>{t.game.player.pos[1]<485&&(t.game.player.pos[1]+=3)}},37:{pressed:!1,func:t=>{t.game.player.pos[0]>0&&(t.game.player.pos[0]-=3)}},39:{pressed:!1,func:t=>{t.game.player.pos[0]<485&&(t.game.player.pos[0]+=3)}},16:{pressed:!1,func:t=>{let e=t.game.player.isCollideWithTrash(t.game.remainingTrash);e&&e.move(t.game.player)}}}}o.prototype.start=function(){this.game=new i,document.getElementById("game-canvas").classList.remove("hidden"),document.getElementById("ready-to-play").classList.add("hidden"),window.addEventListener("keydown",(t=>{this.controller[t.keyCode]&&(this.controller[t.keyCode].pressed=!0)})),window.addEventListener("keyup",(t=>{this.controller[t.keyCode]&&(this.controller[t.keyCode].pressed=!1)})),setInterval((()=>{this.executeMoves(),this.game.remainingTrash.forEach((t=>{t.isCollideWithPlayer(this.game.player.pos)})),this.game.remainingTrash.forEach((t=>{t.isCollideWithTrashBin(this.game.binsArray)})),this.game.updateRemainingTrash(),this.game.draw(this.drawingContext),this.endscreen()}),10)},o.prototype.executeMoves=function(){Object.keys(this.controller).forEach((t=>{this.controller[t].pressed&&this.controller[t].func(this)}))},o.prototype.endscreen=function(){this.game.gameover()&&(document.getElementById("game-canvas").classList.add("hidden"),document.getElementById("main-title").classList.add("hidden"),document.getElementById("end-stats").classList.remove("hidden"),document.getElementById("play-again").classList.remove("hidden"),document.getElementById("back-to-practice").classList.remove("hidden"),clearInterval())},o.prototype.replay=function(){document.getElementById("end-stats").classList.add("hidden"),document.getElementById("play-again").classList.add("hidden"),document.getElementById("back-to-practice").classList.add("hidden"),document.getElementById("main-title").classList.remove("hidden")},o.prototype.reset=function(){document.getElementById("main-title").classList.remove("hidden"),document.getElementById("end-stats").classList.add("hidden"),document.getElementById("play-again").classList.add("hidden"),document.getElementById("back-to-practice").classList.add("hidden"),document.getElementById("ready-to-play").classList.remove("hidden")},t.exports=o},211:function(t,e,n){const i=n(269);function s(t){this.pos=t,this.color="#000000",this.contents=[],this.src="../src/images/park_illustration_fixed.jpeg"}n(839).inherits(s,i),t.exports=s},285:function(t){function e(t){this.pos=t,this.color="#4E5CE6",this.alreadyHoldingTrash=!1}e.prototype.draw=function(t){t.beginPath(),t.rect(this.pos[0],this.pos[1],15,15),t.fillStyle=this.color,t.fill()},e.prototype.isCollideWithTrash=function(t){for(let e=0;e<t.length;e++){let n=t[e];if(this.pos[0]+15>n.pos[0]&&this.pos[0]<n.pos[0]+15&&this.pos[1]+15>n.pos[1]&&this.pos[1]<n.pos[1]+15)return n.isCurrentlyHeld=!0,n}},t.exports=e},568:function(t,e,n){const i=n(269);function s(t){this.pos=t,this.color="#1053FA",this.contents=[],this.src="../src/images/park_illustration_fixed.jpeg"}n(839).inherits(s,i),t.exports=s},651:function(t){function e(t,e){this.pos=t,this.obj=e,this.color="#FF7B88",this.grabbable=!1,this.throwawayable=!1}e.prototype.draw=function(t){const e=new Image;e.src=this.obj.look,t.drawImage(e,this.pos[0],this.pos[1],15,15)},e.prototype.isCollideWithPlayer=function(t){t[0]<this.pos[0]+15&&t[0]+15>this.pos[0]&&t[1]<this.pos[1]+15&&t[1]+15>this.pos[1]?this.grabbable=!0:this.grabbable=!1},e.prototype.move=function(t){this.pos=[t.pos[0]+5,t.pos[1]+5]},e.prototype.isCollideWithTrashBin=function(t){t.some((t=>this.pos[0]<t.pos[0]+30&&this.pos[0]+15>t.pos[0]&&this.pos[1]<t.pos[1]+30&&this.pos[1]+15>t.pos[1]))?this.throwawayable=!0:this.throwawayable=!1},e.prototype.throwaway=function(t){},t.exports=e},269:function(t,e,n){function i(t){this.pos=t,this.contaminated=!1,this.contents=[]}n(839),i.prototype.draw=function(t){t.beginPath(),t.rect(this.pos[0],this.pos[1],30,30),t.fillStyle=this.color,t.fill()},i.prototype.isCollideWithTrash=function(t){return this.pos[0]+30>t.pos[0]&&this.pos[0]<t.pos[0]+15&&this.pos[1]+30>t.pos[1]&&this.pos[1]<t.pos[1]+15},i.prototype.eatTrash=function(t){this.contents.push(t)},t.exports=i},839:function(t){const e={inherits(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};t.exports=e}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}!function(){n(651);const t=n(642),e=n(938);window.addEventListener("DOMContentLoaded",(function(){const n=document.getElementById("game-canvas");n.width=t.DIM_X,n.height=t.DIM_Y;const i=n.getContext("2d"),s=new e(i);document.getElementById("ready-to-play").addEventListener("click",s.start.bind(s)),document.getElementById("play-again").addEventListener("click",(function(){s.replay.bind(s),s.start.bind(s)})),document.getElementById("back-to-practice").addEventListener("click",s.reset.bind(s)),window.remainingTrash=s.game.remainingTrash,window.playerPos=s.game.player.pos,window.binsArray=s.game.binsArray,window.gameover=s.game.gameover,window.randomObj=s.game.randomObj}))}()}();
//# sourceMappingURL=main.js.map